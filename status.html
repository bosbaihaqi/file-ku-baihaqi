<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#7c3aed" />
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="css/status.css" />
    <title>Status | Hotspot</title>
    $(if refresh-timeout)
    <meta http-equiv="refresh" content="$(refresh-timeout-secs)" />
    $(endif)
</head>

<script>
    $(if advert-pending == 'yes')
      var popup = '';
      function focusAdvert() {
        if (window.focus) popup.focus();
      }
      function openAdvert() {
        popup = open('$(link-advert)', 'hotspot_advert', '');
        setTimeout("focusAdvert()", 1000);
      }
    $(endif)
      function openLogout() {
        if (window.name != 'hotspot_status') return true;
        open('$(link-logout)', 'hotspot_logout', 'toolbar=0,location=0,directories=0,status=0,menubars=0,resizable=1,width=280,height=250');
        window.close();
        return false;
      }
</script>

<body $(if advert-pending == 'yes') onLoad="openAdvert()" $(endif)>
    <div class="container">
        <header class="header">
            <div class="status-bar">
                <span>‚â°</span>
                <div class="wifi-status">WiFi Status</div>
                <span>üîî</span>
            </div>

            <div class="profile-section">
                <div class="profile-pic">
                    $(if login-by == 'trial')T$(elif login-by != 'mac')$(username:1)$(else)U$(endif)
                </div>
                <div class="profile-info">
                    <h2>Hello, $(if login-by == 'trial')Trial$(elif login-by != 'mac')$(username)$(else)Guest$(endif)</h2>
                    <div class="greeting" id="greetingTime">Good evening, 09:50:15 PM</div>
                </div>
            </div>

            <div class="status-info">
                <div class="status-item">
                    <div class="status-value">$(bytes-out-nice)</div>
                    <div class="status-label">‚Üì Upload</div>
                </div>
                <div class="status-item">
                    <div class="status-value">$(bytes-in-nice)</div>
                    <div class="status-label">‚Üë Download</div>
                </div>
                <div class="status-item">
                    <div class="wifi-icon">üì∂</div>
                    <div class="status-label">Connected</div>
                </div>
            </div>

            <div class="ip-status">
                <div class="ip-address">IP Address: $(ip)</div>
                <div class="connection-status">Status refresh: $(uptime) $(if session-time-left)| Time Left: $(session-time-left)$(endif)</div>
            </div>
        </header>

        <div class="status-container">
            <div class="status-title">Connection Status</div>
            <div class="actions-grid">
                <a href="#" class="action-item">
                    <div class="action-icon">üì§</div>
                    <div class="action-label">Upload</div>
                    <div class="action-value">$(bytes-out-nice)</div>
                </a>
                <a href="#" class="action-item">
                    <div class="action-icon">üì•</div>
                    <div class="action-label">Download</div>
                    <div class="action-value">$(bytes-in-nice)</div>
                </a>
                <a href="#" class="action-item">
                    <div class="action-icon">‚è±Ô∏è</div>
                    <div class="action-label">Time Left</div>
                    <div class="action-value">$(if session-time-left)$(session-time-left)$(else)Unlimited$(endif)</div>
                </a>
                <a href="#" class="action-item">
                    <div class="action-icon">üìä</div>
                    <div class="action-label">Status</div>
                    <div class="action-value">$(if blocked == 'yes')Blocked$(else)Active$(endif)</div>
                </a>
            </div>
        </div>

        <div class="content-section">
            <div class="section-header">
                <h2 class="section-title">Recommended</h2>
                <a href="#" class="see-all">See all</a>
            </div>
            
            <div class="package-list">
                <div class="package-item">
                    <div class="package-icon">üåê</div>
                    <div class="package-info">
                        <h3>Profile 12 Jam Exp Isolir 10 MB</h3>
                        <div class="package-details">Masa aktif 12 Jam</div>
                        <div class="package-specs">Upload up to 1000 kB ‚Ä¢ Download up to 1000 kB ‚Ä¢ Limit Quota Akses: 10 MB</div>
                    </div>
                    <div class="package-right">
                        <div class="package-price">Rp. 5.000</div>
                        <button class="buy-button">Buy now</button>
                    </div>
                </div>

                <div class="package-item">
                    <div class="package-icon">üöÄ</div>
                    <div class="package-info">
                        <h3>Internet Package 1 Hari</h3>
                        <div class="package-details">Masa aktif 1 Hari</div>
                        <div class="package-specs">Upload up to 2000 kB ‚Ä¢ Download up to 2000 kB ‚Ä¢ Unlimited Quota</div>
                    </div>
                    <div class="package-right">
                        <div class="package-price">Rp. 10.000</div>
                        <button class="buy-button">Buy now</button>
                    </div>
                </div>

                <div class="package-item">
                    <div class="package-icon">‚ö°</div>
                    <div class="package-info">
                        <h3>Internet Package 3 Hari</h3>
                        <div class="package-details">Masa aktif 3 Hari</div>
                        <div class="package-specs">Upload up to 5000 kB ‚Ä¢ Download up to 5000 kB ‚Ä¢ Unlimited Quota</div>
                    </div>
                    <div class="package-right">
                        <div class="package-price">Rp. 25.000</div>
                        <button class="buy-button">Buy now</button>
                    </div>
                </div>

                <div class="package-item">
                    <div class="package-icon">üî•</div>
                    <div class="package-info">
                        <h3>Internet Package 7 Hari</h3>
                        <div class="package-details">Masa aktif 7 Hari</div>
                        <div class="package-specs">Upload up to 10000 kB ‚Ä¢ Download up to 10000 kB ‚Ä¢ Unlimited Quota</div>
                    </div>
                    <div class="package-right">
                        <div class="package-price">Rp. 50.000</div>
                        <button class="buy-button">Buy now</button>
                    </div>
                </div>

                <div class="package-item">
                    <div class="package-icon">üíé</div>
                    <div class="package-info">
                        <h3>Internet Package Premium</h3>
                        <div class="package-details">Masa aktif 30 Hari</div>
                        <div class="package-specs">Unlimited Upload & Download ‚Ä¢ Premium Speed ‚Ä¢ No Quota Limit</div>
                    </div>
                    <div class="package-right">
                        <div class="package-price">Rp. 100.000</div>
                        <button class="buy-button">Buy now</button>
                    </div>
                </div>
            </div>

            $(if login-by-mac != 'yes')
            <div class="logout-section">
                <form action="$(link-logout)" name="logout" onSubmit="return openLogout()">
                    <button class="logout-btn" type="submit">Logout</button>
                </form>
            </div>
            $(endif)
        </div>
    </div>

    <script>
        // Greeting based on time
        function updateGreeting() {
            const now = new Date();
            const hour = now.getHours();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour12: true, 
                hour: '2-digit', 
                minute: '2-digit',
                second: '2-digit'
            });
            
            let greeting;
            if (hour >= 5 && hour < 12) {
                greeting = "Good morning";
            } else if (hour >= 12 && hour < 17) {
                greeting = "Good afternoon";
            } else if (hour >= 17 && hour < 21) {
                greeting = "Good evening";
            } else {
                greeting = "Good night";
            }

            document.getElementById('greetingTime').textContent = `${greeting}, ${timeString}`;
        }

        // Update title
        document.title = `Status | ${window.location.hostname}`;
        
        // Initialize greeting
        updateGreeting();
        
        // Update greeting every second
        setInterval(updateGreeting, 1000);

        // Add click handlers for package buttons
        document.querySelectorAll('.buy-button').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                alert('Feature akan segera hadir!');
            });
        });
    </script>
</body>
</html>
